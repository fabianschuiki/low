// Copyright (c) 2015 Thomas Richner
// Verifies that slice allocation and index access works.
// +execute

func printf(int8* f,...) void

func exit(int32) void

func assert(int32 c) void{
	if(c!=0){
		printf("Assert failed, exiting.\n")
		exit(1)
	}
}


func main(int32 argc,int8** argv) int32 {

	var int8 i = 55
	var []int32 blargh = make([]int32,77)

	blargh[6] = 17

	var int32 j = 0
	printf("blargh[%d]=%d\n",j,blargh[j])
	assert(blargh[j])

	j = 76
	printf("blargh[%d]=%d\n",j,blargh[j])
	assert(blargh[j])

	j = 6
	printf("blargh[%d]=%d\n",j,blargh[j])
	assert(blargh[j]-17)

	j = 50
	printf("blargh[%d]=%d\n",j,blargh[j])
	assert(blargh[j])

	return 0
}